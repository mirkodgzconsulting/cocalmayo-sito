---
import Layout from '../layouts/Layout.astro';
import { Image } from 'astro:assets';
import { Mail, Phone, MapPin, Clock, Facebook, Instagram } from 'lucide-react';
import heroImage from '../assets/images/hero-contacto.jpg';

---

<Layout title="Contáctanos | Cocalmayo Coffee">
	
	<!-- Hero Section -->
	<section class="relative h-[50vh] md:h-[50vh] min-h-[300px] flex items-center justify-center overflow-hidden pt-20">
		<div class="absolute inset-0 z-0 h-full">
			<Image 
				src={heroImage} 
				alt="Contáctanos - Cocalmayo" 
				class="w-full h-full object-cover"
			/>
			<div class="absolute inset-0 bg-brand-blue/80 mix-blend-multiply"></div>
		</div>
		
		<div class="relative z-10 text-center text-white px-4 max-w-4xl mx-auto">
			<h1 class="heading-1 mb-4 text-shadow-lg">Hablemos de Café</h1>
			<p class="text-xl md:text-2xl text-blue-100 max-w-2xl mx-auto font-light tracking-wide border-t border-white/20 pt-6">
				Estamos listos para atender tus pedidos y consultas.
			</p>
		</div>
	</section>

	<section class="section-padding bg-gray-50">
		<div class="section-container">
			
			<div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-start">
				
				<!-- Contact Info (Left) -->
				<div class="bg-white p-10 rounded-[2rem] shadow-xl border border-gray-100 h-full flex flex-col justify-start">
					<div>
						<h2 class="heading-2 mb-8">Información de Contacto</h2>
						<ul class="space-y-8">
							<li class="flex items-start group">
								<div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mr-6 group-hover:bg-brand-blue transition-colors shrink-0">
									<MapPin className="w-6 h-6 text-brand-blue group-hover:text-white transition-colors" />
								</div>
								<div>
									<h4 class="font-bold text-brand-blue text-lg">Ubicación</h4>
									<p class="text-gray-500 mt-1 leading-relaxed">Quillabamba<br/>Cusco, Perú</p>
								</div>
							</li>
							<li class="flex items-start group">
								<div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mr-6 group-hover:bg-brand-blue transition-colors shrink-0">
									<Phone className="w-6 h-6 text-brand-blue group-hover:text-white transition-colors" />
								</div>
								<div>
									<h4 class="font-bold text-brand-blue text-lg">Teléfonos</h4>
									<div class="flex flex-col text-gray-500 mt-1 leading-relaxed">
										<a href="tel:+51967229988" class="hover:text-brand-green transition-colors">+51 967 229 988</a>
										<a href="tel:+51984764688" class="hover:text-brand-green transition-colors">+51 984 764 688</a>
									</div>
								</div>
							</li>
							<li class="flex items-start group">
								<div class="w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center mr-6 group-hover:bg-brand-blue transition-colors shrink-0">
									<Mail className="w-6 h-6 text-brand-blue group-hover:text-white transition-colors" />
								</div>
								<div>
									<h4 class="font-bold text-brand-blue text-lg">Email</h4>
									<p class="text-gray-500 mt-1 leading-relaxed">
										<a href="mailto:ventas@cocalmayo.pe" class="hover:text-brand-green transition-colors">ventas@cocalmayo.pe</a>
									</p>
								</div>
							</li>
						</ul>
					</div>
				</div>

				<!-- WhatsApp Form (Right) -->
				<div class="bg-white p-10 rounded-[2rem] shadow-xl border border-gray-100">
					<h2 class="heading-2 mb-2">Envíanos un mensaje</h2>
					<p class="text-gray-500 mb-8">Completa el formulario para contactarnos directamente por WhatsApp.</p>
					
					<form id="whatsappForm" class="space-y-6">
						<div class="space-y-2">
							<label for="nombre" class="text-sm font-bold text-gray-700 ml-1">Nombre Completo</label>
							<input type="text" id="nombre" required class="w-full px-5 py-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-brand-blue focus:ring-0 transition-colors outline-none" placeholder="Tu nombre" />
						</div>

						<div class="space-y-2">
							<label for="empresa" class="text-sm font-bold text-gray-700 ml-1">Empresa</label>
							<input type="text" id="empresa" required class="w-full px-5 py-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-brand-blue focus:ring-0 transition-colors outline-none" placeholder="Nombre de tu empresa" />
						</div>

						<div class="space-y-2">
							<label for="mensaje" class="text-sm font-bold text-gray-700 ml-1">Mensaje</label>
							<textarea id="mensaje" rows="4" required class="w-full px-5 py-4 rounded-xl bg-gray-50 border border-gray-200 focus:border-brand-blue focus:ring-0 transition-colors outline-none resize-none" placeholder="Escribe tu mensaje aquí..."></textarea>
						</div>

						<button type="submit" class="w-full py-5 bg-[#25D366] text-white font-bold rounded-xl hover:bg-[#20bd5a] transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1 flex items-center justify-center uppercase tracking-widest text-sm">
							<Phone className="w-5 h-5 mr-2" />
							Enviar a WhatsApp
						</button>
					</form>
				</div>

			</div>
		</div>
	</section>

</Layout>

<script>
	const form = document.getElementById('whatsappForm');
	
	form?.addEventListener('submit', (e) => {
		e.preventDefault();
		
		const nombre = (document.getElementById('nombre') as HTMLInputElement).value;
		const empresa = (document.getElementById('empresa') as HTMLInputElement).value;
		const mensaje = (document.getElementById('mensaje') as HTMLTextAreaElement).value;
		
		// Format: Hola, vengo de la web. *Nombre*: [nombre] *Empresa*: [empresa] *Mensaje*: [mensaje]
		const text = `Hola, vengo de la web.\n*Nombre*: ${nombre}\n*Empresa*: ${empresa}\n*Mensaje*: ${mensaje}`;
		
		const whatsappUrl = `https://api.whatsapp.com/send?phone=51967229988&text=${encodeURIComponent(text)}`;
		
		window.open(whatsappUrl, '_blank');
	});
</script>
